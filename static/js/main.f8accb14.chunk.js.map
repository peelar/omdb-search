{"version":3,"sources":["hooks/useDebounce.ts","api/axios.ts","api/fetcher.ts","hooks/useSearch.ts","components/Result/Card.tsx","components/Result/Result.tsx","components/Result/Skeleton.tsx","components/Results/Results.tsx","components/Pagination/Pagination.tsx","components/ErrorBox/ErrorBox.tsx","components/Search/Search.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","instance","axios","create","baseURL","params","apikey","process","fetcher","phrase","page","get","s","then","res","data","useSearch","numPage","toString","useSWR","error","results","isLoading","ResultCard","media","content","Card","raised","CardActionArea","Grid","container","spacing","item","xs","md","Result","result","Link","href","imdbID","color","CardMedia","component","height","src","Poster","title","Title","CardContent","Box","display","justifyContent","flexDirection","Typography","variant","Year","SkeletonCard","Skeleton","Results","my","width","map","index","Array","fill","_","Pagination","total","setPage","count","Math","round","onChange","window","scrollTo","handleChange","ErrorBox","alignItems","minHeight","Alert","severity","style","AlertTitle","message","Search","setValue","isResponseEmpty","Response","onSubmit","e","preventDefault","TextField","type","target","placeholder","fullWidth","Button","onClick","align","parseInt","totalResults","App","AppBar","position","Toolbar","Container","maxWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","theme","createMuiTheme","palette","primary","main","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.f8accb14.chunk.js","sourcesContent":["// credits go to: https://github.com/vercel/swr/issues/110#issuecomment-552637429\nimport { useState, useEffect } from \"react\";\n\nconst useDebounce = (value: string, delay: number): string => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    if (value === \"\") setDebouncedValue(value);\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n\nexport default useDebounce;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://www.omdbapi.com\",\n  params: {\n    apikey: process.env.REACT_APP_AUTH_KEY,\n  },\n});\n\nexport default instance;\n","import axios from \"../api/axios\";\n\nconst fetcher = (phrase: string, page: string) =>\n  axios.get(\"\", { params: { s: phrase, page } }).then((res) => res.data);\n\nexport default fetcher;\n","import { OMDBSearchResponse } from \"./../../types\";\nimport useSWR from \"swr\";\nimport fetcher from \"../api/fetcher\";\nimport { AxiosError } from \"axios\";\n\ntype UseSearchValues = {\n  results: OMDBSearchResponse | undefined;\n  isLoading: boolean;\n  error: AxiosError<any> | undefined;\n};\n\nconst useSearch = (phrase: string, page: number): UseSearchValues => {\n  const numPage = page.toString();\n  const { data, error } = useSWR<OMDBSearchResponse, AxiosError>(\n    () => `search/phrase=${phrase}/page=${page}`,\n    () => fetcher(phrase, numPage)\n  );\n  return {\n    results: data,\n    isLoading: !error && !data,\n    error,\n  };\n};\n\nexport default useSearch;\n","import { Card, Grid, CardActionArea } from \"@material-ui/core\";\n\nconst ResultCard: React.FC<{\n  media: React.ReactNode;\n  content: React.ReactNode;\n}> = ({ media, content }) => (\n  <Card raised>\n    <CardActionArea>\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={4}>\n          {media}\n        </Grid>\n        <Grid item xs={12} md={8}>\n          {content}\n        </Grid>\n      </Grid>\n    </CardActionArea>\n  </Card>\n);\n\nexport default ResultCard;\n","import {\n  CardContent,\n  Typography,\n  CardMedia,\n  Link,\n  Box,\n} from \"@material-ui/core\";\nimport { SearchEntry } from \"../../../types\";\nimport ResultCard from \"./Card\";\n\nconst Result: React.FC<SearchEntry> = (result) => (\n  <Link href={`https://www.imdb.com/title/${result.imdbID}`} color=\"inherit\">\n    <ResultCard\n      media={\n        <CardMedia\n          component=\"img\"\n          height=\"200px\"\n          src={result.Poster}\n          title={result.Title}\n        />\n      }\n      content={\n        <CardContent>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-around\"\n            flexDirection=\"column\"\n          >\n            <Typography variant=\"h5\">{`${result.Title} [${result.Year}]`}</Typography>\n          </Box>\n        </CardContent>\n      }\n    />\n  </Link>\n);\n\nexport default Result;\n","import ResultCard from \"./Card\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport { CardContent } from \"@material-ui/core\";\n\nconst SkeletonCard: React.FC = () => (\n  <ResultCard\n    media={<Skeleton variant=\"rect\" height=\"200px\" />}\n    content={\n      <CardContent>\n        <Skeleton height=\"40px\" />\n      </CardContent>\n    }\n  />\n);\n\nexport default SkeletonCard;\n","import { Grid, Box } from \"@material-ui/core\";\nimport { SearchEntry } from \"../../../types\";\nimport Result from \"../Result/Result\";\nimport SkeletonCard from \"../Result/Skeleton\";\n\nconst SKELETON_CARDS_NUMBER = 5;\n\nconst Results: React.FC<{\n  results: SearchEntry[] | undefined;\n  isLoading: boolean;\n}> = ({ results, isLoading }) => (\n  <Box my={2} width=\"100%\">\n    <Grid container spacing={1}>\n      {results &&\n        results.map((result, index) => (\n          <Grid item xs={12} key={`result-${index}`}>\n            <Result {...result} />\n          </Grid>\n        ))}\n      {isLoading &&\n        Array(SKELETON_CARDS_NUMBER)\n          .fill(0)\n          .map((_, index) => (\n            <Grid item xs={12} key={`result-${index}`}>\n              <SkeletonCard />\n            </Grid>\n          ))}\n    </Grid>\n  </Box>\n);\n\nexport default Results;\n","import { Pagination as MUIPagination } from \"@material-ui/lab\";\n\nconst RESULTS_PER_PAGE = 10;\n\ntype PaginationProps = {\n  total: number;\n  page: number;\n  setPage: React.Dispatch<React.SetStateAction<number>>;\n};\n\nconst Pagination: React.FC<PaginationProps> = ({ total, page, setPage }) => {\n  // the \"+\" sign is a trick so TypeScript leaves me alone\n  const count = Math.round(+total / RESULTS_PER_PAGE);\n\n  const handleChange = (value: number) => {\n    window.scrollTo(0, 0);\n    setPage(value);\n  };\n\n  return (\n    <nav>\n      <MUIPagination\n        page={page}\n        count={count}\n        onChange={(_, value) => handleChange(value)}\n      />\n    </nav>\n  );\n};\n\nexport default Pagination;\n","import { Box } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { AxiosError } from \"axios\";\n\nconst ErrorBox: React.FC<{ error: AxiosError }> = ({ error }) => (\n  <Box\n    width=\"100%\"\n    display=\"flex\"\n    justifyContent=\"center\"\n    alignItems=\"center\"\n    minHeight=\"40vh\"\n  >\n    <Alert severity=\"error\" style={{ width: \"30%\" }}>\n      <AlertTitle>Error</AlertTitle>\n      {error.message}\n    </Alert>\n  </Box>\n);\n\nexport default ErrorBox;\n","import { useState } from \"react\";\nimport { useDebounce, useSearch } from \"../../hooks\";\nimport Results from \"../Results/Results\";\nimport Pagination from \"../Pagination/Pagination\";\nimport { Button, Grid, TextField, Box, Typography } from \"@material-ui/core\";\nimport ErrorBox from \"../ErrorBox/ErrorBox\";\n\nconst Search: React.FC = () => {\n  const [value, setValue] = useState(\"\");\n  const debouncedValue = useDebounce(value, 1000);\n  const [page, setPage] = useState(1);\n  const { results, error, isLoading } = useSearch(debouncedValue, page);\n\n  const isResponseEmpty =\n    debouncedValue !== \"\" && results?.Response === \"False\";\n\n  const clear = () => {\n    setValue(\"\");\n    setPage(1);\n  };\n\n  return (\n    <Box component=\"section\" my={2}>\n      <form onSubmit={(e) => e.preventDefault()}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} md={10}>\n            <TextField\n              type=\"text\"\n              onChange={(e) => setValue(e.target.value)}\n              value={value}\n              placeholder=\"Search for a film\"\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs={4} md={2}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"button\"\n              onClick={clear}\n            >\n              Clear [X]\n            </Button>\n          </Grid>\n        </Grid>\n      </form>\n      {error && <ErrorBox error={error} />}\n      {isResponseEmpty && (\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          minHeight=\"40vh\"\n        >\n          <Typography color=\"textSecondary\" variant=\"h4\" align=\"center\">\n            No results\n          </Typography>\n        </Box>\n      )}\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        minHeight=\"40vh\"\n      >\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-around\"\n          flexDirection=\"column\"\n          width=\"100%\"\n          my={2}\n        >\n          {results?.Search && (\n            <Pagination\n              page={page}\n              setPage={setPage}\n              total={parseInt(results.totalResults)}\n            />\n          )}\n          <Results results={results?.Search} isLoading={isLoading} />\n          {results?.Search && (\n            <Pagination\n              page={page}\n              setPage={setPage}\n              total={parseInt(results.totalResults)}\n            />\n          )}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Search;\n","import { AppBar, Container, Toolbar } from \"@material-ui/core\";\nimport Search from \"./components/Search/Search\";\n\nconst App: React.FC = () => {\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>OMDB Search</Toolbar>\n      </AppBar>\n      <Container maxWidth=\"xl\" component=\"main\">\n        <Search />\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#f26a5f\",\n    },\n  },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}